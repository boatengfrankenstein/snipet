{"ast":null,"code":"import { AdDirective } from './ad.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./ad.directive\";\nfunction BannerComponent_ng_template_1_Template(rf, ctx) {}\nexport class BannerComponent {\n  constructor() {\n    this.classification = [];\n    this.currentAdIndex = -1;\n  }\n  ngOnInit() {\n    this.loadBanner();\n    this.getAds();\n  }\n  ngOnDestroy() {}\n  loadBanner() {\n    // this.currentAdIndex = (this.currentAdIndex + 1) % this.ads.length;\n    const adItem = this.classification[0];\n    const viewContainerRef = this.adHost.viewContainerRef;\n    viewContainerRef.clear();\n    const componentRef = viewContainerRef.createComponent(adItem.component);\n    componentRef.instance.data = adItem.data;\n  }\n  getAds() {\n    this.loadBanner();\n  }\n}\nBannerComponent.ɵfac = function BannerComponent_Factory(t) {\n  return new (t || BannerComponent)();\n};\nBannerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BannerComponent,\n  selectors: [[\"banner\"]],\n  viewQuery: function BannerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(AdDirective, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.adHost = _t.first);\n    }\n  },\n  inputs: {\n    classification: \"classification\"\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"classification-banner\"], [\"adHost\", \"\"]],\n  template: function BannerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, BannerComponent_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n      i0.ɵɵelementEnd();\n    }\n  },\n  dependencies: [i1.AdDirective],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAEA,SAASA,WAAW,QAAQ,gBAAgB;;;;AAY5C,OAAM,MAAOC,eAAe;EAR5BC;IASW,mBAAc,GAAyB,EAAE;IAElD,mBAAc,GAAG,CAAC,CAAC;;EAInBC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,MAAM,EAAE;EACf;EAEAC,WAAW,IAAI;EAEfF,UAAU;IACR;IACA,MAAMG,MAAM,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC,CAAC;IAErC,MAAMC,gBAAgB,GAAG,IAAI,CAACC,MAAM,CAACD,gBAAgB;IACrDA,gBAAgB,CAACE,KAAK,EAAE;IAExB,MAAMC,YAAY,GAChBH,gBAAgB,CAACI,eAAe,CAC9BN,MAAM,CAACO,SAAS,CACjB;IACHF,YAAY,CAACG,QAAQ,CAACC,IAAI,GAAGT,MAAM,CAACS,IAAI;EAC1C;EAEAX,MAAM;IACJ,IAAI,CAACD,UAAU,EAAE;EACnB;;AA9BWH,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAgB;EAAAC;IAAA;qBAKflB,WAAW;;;;;;;;;;;;;;;MAVpBmB,8BAAmC;MACjCA,gFAAkC;MACpCA,iBAAM","names":["AdDirective","BannerComponent","constructor","ngOnInit","loadBanner","getAds","ngOnDestroy","adItem","classification","viewContainerRef","adHost","clear","componentRef","createComponent","component","instance","data","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/Users/danielboakye/Documents/ag/angular-banner/src/app/ad-banner.component.ts"],"sourcesContent":["import { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { AdDirective } from './ad.directive';\r\nimport { ClassificationType } from './ad-item';\r\nimport { ClassificationComponent } from './ad.component';\r\n\r\n@Component({\r\n  selector: 'banner',\r\n  template: `\r\n    <div class=\"classification-banner\">\r\n      <ng-template adHost></ng-template>\r\n    </div>\r\n  `,\r\n})\r\nexport class BannerComponent implements OnInit, OnDestroy {\r\n  @Input() classification: ClassificationType[] = [];\r\n\r\n  currentAdIndex = -1;\r\n\r\n  @ViewChild(AdDirective, { static: true }) adHost!: AdDirective;\r\n\r\n  ngOnInit(): void {\r\n    this.loadBanner();\r\n    this.getAds();\r\n  }\r\n\r\n  ngOnDestroy() {}\r\n\r\n  loadBanner() {\r\n    // this.currentAdIndex = (this.currentAdIndex + 1) % this.ads.length;\r\n    const adItem = this.classification[0];\r\n\r\n    const viewContainerRef = this.adHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n\r\n    const componentRef =\r\n      viewContainerRef.createComponent<ClassificationComponent>(\r\n        adItem.component\r\n      );\r\n    componentRef.instance.data = adItem.data;\r\n  }\r\n\r\n  getAds() {\r\n    this.loadBanner();\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}